(this.webpackJsonplouder=this.webpackJsonplouder||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),a=c.n(r),s=c(19),i=c.n(s),l=c(2),o=c(4),u=c.n(o),j=c(13),d=c(9),b=c(5),m={getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},millisToMinsSecs:function(e){var t=Math.floor(e/6e4),c=(e%6e4/1e3).toFixed(0);return t+":"+(c<10?"0":"")+c},makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=c.charAt(Math.floor(Math.random()*c.length));return t},saveToStorage:function(e,t){var c=JSON.stringify(t);localStorage.setItem(e,c)},loadFromStorage:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},removeFromStorage:function(e){localStorage.removeItem(e)}};var x=function(e){var t=e.recentSearches,c=e.handleChange,r=e.onClearSearches;return Object(n.jsxs)("div",{className:"recent-searches",children:[t.map((function(e){return Object(n.jsx)("button",{className:"btn-search-item",onClick:function(t){return c(t,e,!0)},children:Object(n.jsx)("span",{children:e})},m.makeId())})),Object(n.jsx)("button",{className:"btn-clear",onClick:r,children:"CLEAR"})]})},h=function(e){var t=e.onSetFilter,c=Object(r.useState)(""),a=Object(b.a)(c,2),s=a[0],i=a[1],l=Object(r.useState)(!1),o=Object(b.a)(l,2),u=o[0],j=o[1],d="SEARCHES",h=m.loadFromStorage(d)||[],O=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log(e,t,c),i(t||e.target.value),c&&f(e)},f=function(e){e.preventDefault(),s&&(h.length>=5&&h.pop(),h.unshift(s),m.saveToStorage(d,h)),t(s),j(!1)};return Object(n.jsxs)("form",{className:"app-filter flex a-center",onSubmit:f,children:[Object(n.jsx)("input",{type:"text",name:"filter-input",value:s,onChange:O,autoComplete:"off",onFocus:function(){return j(!0)},onBlur:function(){return setTimeout((function(){return j(!1)}),100)}}),h.length&&u?Object(n.jsx)(x,{recentSearches:h,handleChange:O,onClearSearches:function(){return m.removeFromStorage(d)}}):null,Object(n.jsx)("button",{type:"submit",className:s?"":"inactive",children:"Find"})]})},O=c(10),f=function(e){var t=e.track,c=e.dockMode,a=Object({NODE_ENV:"production",PUBLIC_URL:"/louder",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"ggX0UomnLs0VmW7qZnCzw"}),s=a.PUBLIC_URL,i=a.REACT_APP_CLIENT_ID,l="".concat(s,"/assets/imgs"),o=Object(r.useRef)(),j=t&&Object.keys(t).length,m=Object(r.useState)(!1),x=Object(b.a)(m,2),h=x[0],f=x[1];console.log(t),Object(r.useEffect)((function(){Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j&&g(),o.current=new Audio("".concat(t.stream_url,"?consumer_key=").concat(i)),e.next=4,o.current.play();case 4:f(!0);case 5:case"end":return e.stop()}}),e)})))()}),[t.stream_url]);var g=function(){o.current.pause(),o.current.currentTime=0,f(!1)};return Object(n.jsx)("article",{className:"media-player ".concat(c?"dock-mode":""),children:Object(n.jsxs)("div",{className:"main-layout flex j-between a-center",children:[Object(n.jsxs)("div",{className:"flex grow a-center",children:[Object(n.jsx)(O.b,{to:"/player"}),Object(n.jsx)("img",{className:"media-img",alt:"",src:t.artwork_url||"".concat(l,"/track-img-fallback.svg")}),j?Object(n.jsxs)("div",{className:"flex col",children:[Object(n.jsx)("label",{children:t.title}),Object(n.jsxs)("small",{children:[Object(n.jsx)("span",{className:"muted",children:"by\xa0"}),t.user.username]})]}):null]}),Object(n.jsxs)("div",{className:"btn-container flex",children:[Object(n.jsx)("button",{onClick:function(){},children:Object(n.jsx)("img",{src:"".concat(l,"/btn-prev.png"),alt:""})}),Object(n.jsx)("button",{className:h?"btn-pause":"btn-play",onClick:function(){h?o.current.pause():o.current.play(),j&&f(!h)},children:Object(n.jsx)("img",{src:"".concat(l,"/").concat(h?"btn-pause":"btn-play",".png"),alt:""})}),Object(n.jsx)("button",{onClick:function(){},children:Object(n.jsx)("img",{src:"".concat(l,"/btn-next.png"),alt:""})})]})]})})},g=function(e){var t=e.track,c=e.onSelectTrack,r=e.gridView,a="".concat("/louder","/assets/imgs");return Object(n.jsxs)("article",{className:"track-preview pointer ".concat(r?"grid-view":"list-view"),onClick:function(){return c(t)},children:[Object(n.jsx)("img",{src:t.artwork_url||"".concat(a,"/track-img-fallback.svg"),alt:""}),Object(n.jsxs)("div",{className:"flex col",children:[Object(n.jsx)("small",{children:t.user.username}),Object(n.jsx)("label",{children:t.title}),Object(n.jsxs)("div",{className:"flex a-self-end",children:[Object(n.jsxs)("div",{className:"flex a-center",children:[Object(n.jsx)("img",{className:"clock-img",src:"".concat(a,"/clock.png"),alt:""}),Object(n.jsx)("span",{children:m.millisToMinsSecs(t.duration)})]}),Object(n.jsxs)("div",{className:"flex a-center",children:[Object(n.jsx)("img",{className:"fav-img",src:"".concat(a,"/favorite.png"),alt:""}),Object(n.jsx)("span",{children:t.favoritings_count})]})]})]})]})},p=function(e){var t=e.tracks,c=e.onSelectTrack,a=e.onNextPage,s="IS_GRID_MODE",i="".concat("/louder","/assets/imgs"),l=m.loadFromStorage(s),o=Object(r.useState)(l||!1),u=Object(b.a)(o,2),j=u[0],d=u[1],x=function(e){d(e),m.saveToStorage(s,e)};return t.length?Object(n.jsxs)("section",{className:"track-list-container",children:[Object(n.jsx)("div",{className:"track-list ".concat(j?"grid-view":"list-view"),children:t.map((function(e){return Object(n.jsx)(g,{gridView:j,track:e,onSelectTrack:c},e.id)}))}),Object(n.jsxs)("div",{className:"btns-container flex grow",children:[Object(n.jsx)("button",{className:"btn-grid",onClick:function(){return x(!0)},children:Object(n.jsx)("img",{src:"".concat(i,"/grid.svg"),alt:"grid"})}),Object(n.jsx)("button",{className:"btn-list",onClick:function(){return x(!1)},children:Object(n.jsx)("img",{src:"".concat(i,"/list.svg"),alt:"list"})}),Object(n.jsx)("button",{className:"btn-next",onClick:a,children:"Next"})]})]}):Object(n.jsx)("div",{})};function v(e){var t=e.text,c="",a=Object(r.useState)(!1),s=Object(b.a)(a,2),i=s[0],l=s[1];return c=i?t:t.substring(0,150),Object(n.jsxs)("div",{className:"fs14 ".concat(c.length>=150?"pointer":""),onClick:function(){return l(!i)},children:[Object(n.jsx)("p",{className:"d-inline",children:c}),c.length>=150&&Object(n.jsx)("span",{className:"clr1",children:i?" \u25b2":"... \u25bc"})]})}var k=function(e){var t=e.track;console.log(t);var c="".concat("/louder","/assets/imgs");return Object(n.jsxs)("section",{className:"track-details flex col",children:[Object(n.jsxs)("div",{className:"track-panel flex",children:[Object(n.jsx)("img",{src:t.artwork_url,alt:""}),Object(n.jsxs)("div",{className:"flex col",children:[Object(n.jsx)("header",{className:"flex col",children:Object(n.jsx)("label",{children:t.title})}),Object(n.jsx)("main",{className:"grow",children:t.description?Object(n.jsx)(v,{text:t.description}):Object(n.jsx)("span",{className:"muted",children:"No description given..."})}),Object(n.jsxs)("footer",{className:"flex a-center",children:[Object(n.jsxs)("div",{className:"flex a-center",children:[Object(n.jsx)("img",{className:"clock-img",src:"".concat(c,"/clock.png"),alt:""}),Object(n.jsx)("span",{children:m.millisToMinsSecs(t.duration)})]}),Object(n.jsxs)("div",{className:"flex a-center",children:[Object(n.jsx)("img",{className:"fav-img",src:"".concat(c,"/favorite.png"),alt:""}),Object(n.jsx)("span",{children:t.favoritings_count})]})]})]})]}),Object(n.jsxs)("div",{className:"user-panel flex col",children:[Object(n.jsx)("h4",{children:"Artist"}),Object(n.jsxs)("div",{className:"flex",children:[Object(n.jsx)("img",{src:t.user.avatar_url,alt:""}),Object(n.jsxs)("div",{className:"flex col",children:[Object(n.jsx)("small",{className:"grow",children:t.user.username}),Object(n.jsx)("a",{href:"https://soundcloud.com/octobersveryown",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("button",{children:"Visit"})})]})]})]})]})},N={query:function(){return S.apply(this,arguments)},nextPage:function(e){return w.apply(this,arguments)}};function S(){return(S=Object(d.a)(u.a.mark((function e(){var t,c,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,fetch("https://api.soundcloud.com/tracks?format=json&linked_partitioning=1\n    &client_id=".concat("ggX0UomnLs0VmW7qZnCzw","&q=").concat(t,"&limit=6"));case 3:return c=e.sent,e.abrupt("return",c.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(){var e=Object(r.useState)({}),t=Object(b.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)({lastQuery:"",currQuery:"",nextPageUrl:"",tracks:[]}),i=Object(b.a)(s,2),l=i[0],o=i[1];Object(r.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.query("mob");case 2:t=e.sent,o(Object(j.a)(Object(j.a)({},l),{},{nextPageUrl:t.next_href,tracks:t.collection}));case 4:case"end":return e.stop()}}),e)})))()}),[]);var m=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.query(t);case 2:c=e.sent,o({lastQuery:t||l.lastQuery,currQuery:t,nextPageUrl:c.next_href,tracks:t?c.collection:[]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.nextPage(l.nextPageUrl);case 2:t=e.sent,o(Object(j.a)(Object(j.a)({},l),{},{nextPageUrl:t.next_href,tracks:t.collection}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("section",{className:"home",children:[Object(n.jsx)("nav",{className:"result-bar",children:Object(n.jsxs)("div",{className:"main-layout flex col",children:[Object(n.jsx)("small",{children:l.currQuery?"Search Results /":"Spotlight"}),Object(n.jsx)("label",{children:l.currQuery?l.currQuery:"Featured Tracks"})]})}),Object(n.jsxs)("div",{className:"main-layout pos-relative",children:[Object(n.jsx)(h,{onSetFilter:m}),Object.keys(c).length?Object(n.jsx)(k,{track:c}):Object(n.jsx)(p,{tracks:l.tracks,onSelectTrack:function(e){a(e),m("")},onNextPage:x})]}),Object(n.jsx)(f,{track:c})]})},C=function(){var e=Object(r.useState)(!1),t=Object(b.a)(e,2),c=t[0],a=t[1];return window.addEventListener("scroll",(function(){return window.scrollY>=75?a(!0):a(!1)})),Object(n.jsx)("header",{className:c?"app-header active":"app-header",children:Object(n.jsxs)("section",{className:"main-layout flex j-between a-center",children:[Object(n.jsx)("div",{className:"logo",onClick:function(){return window.location.reload()},children:Object(n.jsx)(O.c,{to:"/",children:"LOUDER"})}),Object(n.jsx)("nav",{className:"flex a-center",children:Object(n.jsx)("a",{href:"https://github.com/tomleb3/beatit",children:Object(n.jsx)("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:"github-link",height:"1.5em",width:"1.5em",children:Object(n.jsx)("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35\r 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65\r 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44\r 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})})})]})})};function _(){return Object(n.jsxs)("main",{className:"App",children:[Object(n.jsx)(C,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/player",component:f}),Object(n.jsx)(l.a,{path:"/",component:y})]})]})}c(32),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(O.a,{children:Object(n.jsx)(_,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),T()}},[[33,1,2]]]);
//# sourceMappingURL=main.952ba7f3.chunk.js.map